{% extends 'base.html' %}
{% block content %}

    <div class="container-fluid">
        <div class="row justify-content-md-between mt-3 ml-1" style="height: 83vh">

            {# main content #}
            <div class="col-md-9 card-container">
                <div class="row justify-content-md-start">
                    {% if stady_plan | plan(1) %}
                        {% for i in range(plan | plan(1)) %}
                            <div class="card mx-2 card-row mb-5">
                                <figure>
                                    {{ stady_plan[i].name | generate_avatar(size=300,
                                        class='card-img-top') }}
                                </figure>
                                <div class="card-body text-center">
                                    <h5 class="card-title"> {{ stady_plan[i].name }} </h5>
                                    <p class="card-text">
                                        {% if stady_plan[i].goals | length > 0 %}

                                            {{ stady_plan[i].id | study_plan_goals_done() }} de 
                                            {{ stady_plan[i].id | study_plan_goals() }}
                                            Metas Alcanzadas
                                        {% else %}
                                            No ha gregado ninguna meta
                                        {% endif %}
                                    </p>
                                    <a href=" {{ url_for('users.study_plan_golas', id=stady_plan[i].id) }} " 
                                      class="btn btn-primary mx-auto">
                                        Ver Mis Metas
                                    </a>
                                </div>
                            </div>
                        {% endfor %}
                    {% else %}
                        <img src="{{ url_for('static',filename='images/undraw/undraw_empty.svg') }}" 
                        alt="Empty space" class="img-empty m-auto">
                    {% endif %}
                </div>
            </div>

            {# sidebar right #}
            <div class="list-group col-md-3 d-none d-sm-inline-block " 
              id="list-ta" role="tablist">

                {% if stady_plan | plan(1) %}
                    <button type="button" class="btn btn-secondary btn-block mb-3"
                      data-toggle="modal" data-target="#studyPlanGolasModal">
                        Nuevo Objetivo
                    </button>
                {% else %}
                    <button type="button" class="btn btn-secondary btn-block mb-3 disabled">
                        Nuevo Objetivo
                    </button>
                {% endif %}

                <a class="list-group-item list-group-item-action"
                    id="list-home-list" data-toggle="list"
                    href="#list-home" role="tab"
                    aria-controls="home">
                    Todas las tereas
                </a>
                <a class="list-group-item list-group-item-action active"
                    id="list-home-list" data-toggle="list"
                    href="#list-home" role="tab"
                    aria-controls="home">
                    Tareas pendientes
                </a>
                <a class="list-group-item list-group-item-action"
                    id="list-profile-list" data-toggle="list"
                    href="#list-profile" role="tab"
                    aria-controls="profile">
                    Tarea completadas
                </a>
                <a class="list-group-item list-group-item-action"
                    id="list-messages-list" data-toggle="list"
                    href="#list-messages" role="tab"
                    aria-controls="messages">
                    Chat del curso
                </a>
                <a class="list-group-item list-group-item-action"
                    id="list-settings-list" data-toggle="list"
                    href="#list-settings" role="tab"
                    aria-controls="settings">
                    Informacion del curso
                </a>
            </div>
        </div>
    </div>
{% endblock %}